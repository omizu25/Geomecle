//**************************************************
// 
// bullet.cpp
// Author  : katsuki mizuki
// 
//**************************************************

//==================================================
// インクルード
//==================================================
#include "bullet.h"
#include "object2D.h"
#include "application.h"

#include <assert.h>

//==================================================
// 定義
//==================================================
namespace
{
}

//==================================================
// 静的メンバ変数
//==================================================
CBullet* CBullet::m_pBullet[256] = {};
int CBullet::m_numAll = 0;

//--------------------------------------------------
// 生成
//--------------------------------------------------
void CBullet::Create()
{

}

//--------------------------------------------------
// 全ての解放
//--------------------------------------------------
void CBullet::ReleaseAll()
{
	for (int i = 0; i < CObject2D::MAX_POLYGON; i++)
	{
		if (m_pBullet[i] == nullptr)
		{// NULLチェック
			return;
		}

		// 終了
		m_pBullet[i]->Uninit();
	}
}

//--------------------------------------------------
// 全ての更新
//--------------------------------------------------
void CBullet::UpdateAll()
{
	for (int i = 0; i < CObject2D::MAX_POLYGON; i++)
	{
		if (m_pBullet[i] == nullptr)
		{// NULLチェック
			return;
		}

		// 更新
		m_pBullet[i]->Update();
	}
}

//--------------------------------------------------
// 全ての描画
//--------------------------------------------------
void CBullet::DrawAll()
{
	for (int i = 0; i < CObject2D::MAX_POLYGON; i++)
	{
		if (m_pBullet[i] == nullptr)
		{// NULLチェック
			return;
		}

		// 更新
		m_pBullet[i]->Draw();
	}
}

//--------------------------------------------------
// デフォルトコンストラクタ
//--------------------------------------------------
CBullet::CBullet() :
	m_life(0)
{
}

//--------------------------------------------------
// デストラクタ
//--------------------------------------------------
CBullet::~CBullet()
{
}

//--------------------------------------------------
// 初期化
//--------------------------------------------------
HRESULT CBullet::Init()
{
	m_life = 60;
	return S_OK;
}

//--------------------------------------------------
// 終了
//--------------------------------------------------
void CBullet::Uninit()
{
	
}

//--------------------------------------------------
// 更新
//--------------------------------------------------
void CBullet::Update()
{

}

//--------------------------------------------------
// 描画
//--------------------------------------------------
void CBullet::Draw()
{
}

//--------------------------------------------------
// 解放
//--------------------------------------------------
void CBullet::Release()
{
	if (m_pBullet[m_index] != nullptr)
	{// NULLチェック
		int index = m_index;
		delete m_pBullet[index];
		m_pBullet[index] = nullptr;
		m_numAll = 0;
	}
}
